import{C as e,F as t,M as n,P as r,S as i,T as a,c as o,d as s,f as c,g as l,h as u,i as d,j as f,k as p,m,o as ee,p as h,r as g,s as te,v as _,w as v,x as y,y as b}from"./index-BdTzLahI.js";import"./classes-B4NYo6ki.js";import{t as x}from"./demo-BZNeFjuW.js";var ne={class:`home-page`},re={class:`app-header`},ie={class:`container`},ae={class:`header-content`,style:{"padding-left":`20px`}},oe={class:`header-actions`},se={class:`main-content`},ce={class:`container`},le={class:`stats-bar`},ue={class:`stat-item`},S={class:`stat-value`},C={class:`stat-item`},w={class:`stat-value`},T={class:`stat-item`},E={class:`stat-value`},D={class:`stat-item`},O={class:`stat-value`},k={class:`demo-grid`},A=[`onClick`],j={class:`card-header`},M={class:`card-title`},N={class:`card-body`},P={class:`card-description`},F={class:`card-footer`},I={class:`tags-container`},L={class:`meta-info`},R={class:`create-time`},z={key:0,class:`update-time`},B={key:0,class:`empty-state`},V={key:1,class:`loading-state`},H=d(y({__name:`Home`,setup(d){let y=g(),H=x(),U=f(``),W=f(``),G=f(!1),K=c(()=>H.demos),q=c(()=>H.categories),J=c(()=>H.tags),de=c(()=>{let e=K.value.filter(e=>e.createdAt);return e.length===0?`暂无`:$(e.reduce((e,t)=>new Date(t.createdAt)>new Date(e)?t.createdAt:e,e[0].createdAt))}),fe=c(()=>{let e=K.value.filter(e=>e.updatedAt);return e.length===0?`暂无`:$(e.reduce((e,t)=>new Date(t.updatedAt)>new Date(e)?t.updatedAt:e,e[0].updatedAt))}),Y=c(()=>{let e=[...K.value];if(U.value){let t=U.value.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tagIds.some(e=>J.value.find(t=>t.id===e)?.name.toLowerCase().includes(t)))}return W.value&&(e=e.filter(e=>e.categoryId===W.value)),e}),X=e=>q.value.find(t=>t.id===e),pe=e=>X(e)?.name||`未知分类`,Z=e=>X(e)?.color||`#409EFF`,me=e=>J.value.filter(t=>e.includes(t.id)),he=e=>({beginner:`初级`,intermediate:`中级`,advanced:`高级`})[e]||e,ge=e=>{let t={beginner:{backgroundColor:`#e8f5e9`,borderColor:`#2e7d32`,color:`#2e7d32`},intermediate:{backgroundColor:`#e3f2fd`,borderColor:`#1565c0`,color:`#1565c0`},advanced:{backgroundColor:`#fef0f0`,borderColor:`#f56c6c`,color:`#f56c6c`}};return t[e]||t.beginner},_e=()=>{},Q=()=>{},ve=e=>{y.push(`/demo/${e}`)},$=e=>{let t=new Date(e),n=new Date().getTime()-t.getTime(),r=Math.floor(n/(1e3*60*60*24));if(r===0)return`今天`;if(r===1)return`昨天`;if(r<7)return`${r}天前`;if(r<30)return`${Math.floor(r/7)}周前`;{let e=(t.getMonth()+1).toString().padStart(2,`0`),n=t.getDate().toString().padStart(2,`0`);return`${t.getFullYear()}-${e}-${n}`}};return i(async()=>{G.value=!0;try{await Promise.all([H.fetchDemos(),H.fetchCategories(),H.fetchTags()])}catch(e){console.error(`加载数据失败:`,e)}finally{G.value=!1}}),(i,c)=>{let d=a(`el-icon`),f=a(`el-input`),g=a(`el-option`),y=a(`el-select`),x=a(`el-tag`),H=a(`el-empty`),K=a(`el-skeleton`);return e(),l(`div`,ne,[h(`header`,re,[h(`div`,ie,[h(`div`,ae,[c[2]||=h(`h1`,{class:`app-title`},`Vue3测试研究Demo用例平台`,-1),h(`div`,oe,[b(f,{modelValue:U.value,"onUpdate:modelValue":c[0]||=e=>U.value=e,placeholder:`搜索demo...`,class:`search-input`,onInput:_e,clearable:``},{prefix:p(()=>[b(d,null,{default:p(()=>[b(n(o))]),_:1})]),_:1},8,[`modelValue`]),b(y,{modelValue:W.value,"onUpdate:modelValue":c[1]||=e=>W.value=e,placeholder:`按分类筛选`,class:`category-select`,clearable:``,onChange:Q},{default:p(()=>[(e(!0),l(s,null,v(q.value,t=>(e(),m(g,{key:t.id,label:t.name,value:t.id},null,8,[`label`,`value`]))),128))]),_:1},8,[`modelValue`])])])])]),h(`main`,se,[h(`div`,ce,[h(`div`,le,[h(`div`,ue,[c[3]||=h(`span`,{class:`stat-label`},`总demo数:`,-1),h(`span`,S,t(Y.value.length),1)]),h(`div`,C,[c[4]||=h(`span`,{class:`stat-label`},`分类数:`,-1),h(`span`,w,t(q.value.length),1)]),h(`div`,T,[c[5]||=h(`span`,{class:`stat-label`},`最近创建:`,-1),h(`span`,E,t(de.value),1)]),h(`div`,D,[c[6]||=h(`span`,{class:`stat-label`},`最近更新:`,-1),h(`span`,O,t(fe.value),1)])]),h(`div`,k,[(e(!0),l(s,null,v(Y.value,i=>(e(),l(`div`,{key:i.id,class:`demo-card`,onClick:e=>ve(i.id)},[h(`div`,j,[h(`h3`,M,t(i.title),1),b(x,{size:`small`,style:r(ge(i.difficulty)),class:`difficulty-tag`},{default:p(()=>[_(t(he(i.difficulty)),1)]),_:2},1032,[`style`])]),h(`div`,N,[h(`p`,P,t(i.description),1)]),h(`div`,F,[h(`div`,I,[b(x,{size:`small`,class:`category-tag`,style:r({backgroundColor:Z(i.categoryId)+`20`,borderColor:Z(i.categoryId),color:Z(i.categoryId)})},{default:p(()=>[_(t(pe(i.categoryId)),1)]),_:2},1032,[`style`]),(e(!0),l(s,null,v(me(i.tagIds),n=>(e(),m(x,{key:n.id,size:`small`,class:`tag-item`,style:r({backgroundColor:n.color+`20`,borderColor:n.color,color:n.color})},{default:p(()=>[_(t(n.name),1)]),_:2},1032,[`style`]))),128))]),h(`div`,L,[h(`span`,R,[b(d,null,{default:p(()=>[b(n(ee))]),_:1}),_(` `+t($(i.createdAt)),1)]),i.updatedAt?(e(),l(`span`,z,[b(d,null,{default:p(()=>[b(n(te))]),_:1}),_(` `+t($(i.updatedAt)),1)])):u(``,!0)])])],8,A))),128))]),Y.value.length===0?(e(),l(`div`,B,[b(H,{description:`没有找到相关demo`})])):u(``,!0),G.value&&Y.value.length===0?(e(),l(`div`,V,[b(K,{rows:3,animated:``})])):u(``,!0)])])])}}}),[[`__scopeId`,`data-v-1de2aee2`]]);export{H as default};